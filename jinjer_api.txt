ジンジャーAPIでは下記のような HTTP リクエストで各種リソースの操作ができます。
HTTP リクエストの構成は以下の通りです。

$ curl -X {メソッド} https://api.jinjer.biz/{バージョン}/{リソース} \
-H 'Content-Type: application/json' \
-H 'Authorization: Bearer {アクセストークン}'


    {メソッド}: GET や POST などを指定することで、取得や更新などの操作をおこなえます。
    {バージョン}: v1 など公開されている API バージョンを指定します。
    {リソース}: 従業員情報などの各種情報を指定します。
    {アクセストークン}: API リクエストの認証・認可に利用します。


事前準備

API を利用する前に API キーと API シークレットキーを生成・取得する必要があります。

システム管理者権限でジンジャーにログインし、外部サービス連携 > ジンジャーAPI のメニューを開いてください。

ここで生成・取得された API キーと API シークレットキーが、アクセストークンを発行するために必要となります。
アクセストークンを発行する

API を利用するには、アクセストークンをリクエストに含める必要があります。

アクセストークンは GET /v1/token または GET /v2/token にリクエストすることで発行されます。

    GET /v2/token: 原則こちらをご利用ください。すべての API キーと API シークレットキーを利用できます。
    GET /v1/token: デフォルト (1企業につき必ず1組設定されている) の API キー と API シークレットキー のみが利用でき、任意に追加された API キー と API シークレットキーには非対応です。

API のリクエスト

GET /v1/token と GET /v2/token 以外の API のエンドポイントを利用するには、アクセストークンをリクエストに含める必要があります。

発行されたアクセストークンをリクエストヘッダ Authorization に Bearer として含めてください。


リクエスト制限

    アクセストークンの有効期限：4時間
    アクセストークンの最大同時払い出し数：特になし
    取得リクエスト数上限：1社につき毎分100回まで且つ毎時1,500回まで ※ステータスコードが200の場合のみ
    打刻データの登録リクエスト数上限：1社につき1秒に1回まで且つ毎分60回まで且つ毎時3,600回まで ※ステータスコードが200の場合のみ
    その他の登録/更新リクエスト数上限：1社につき6秒に1回まで且つ毎分10回まで且つ毎時150回まで ※ステータスコードが200の場合のみ

上記のリクエスト数上限に加えて、1つのリクエストが完了するまで次のリクエストを受け付けることはできません。
短時間に連続してリクエストをおこなう場合、レスポンスが返却されたことを確認してから次のリクエストをおこなってください。
ページネーション

リストを返すエンドポイントでは、一度に返せる要素の数に制限があります。

制限以上の数の要素が必要となる場合は、ページ番号を指定する必要があり、ページ番号を表すクエリパラメータ page を指定することができます。

また、要素の総数はレスポンスヘッダ X-Item-Counts で表されます。

従って、たとえば、一度に返せる要素の数が100件に制限されたエンドポイントにおいて、クエリパラメータに合致する要素の数が160件ある場合、レスポンスヘッダ X-Item-Counts の値は 160 と返され、クエリパラメータ page を指定しない場合は 0-100 件目、page=2 と指定する場合は 101-160 件目が返却されます。


リクエストの共通仕様
特殊文字のエスケープ

POST や PATCH のリクエストボディにおいて、入力値に以下の特殊文字を文字として含める場合は、JSON形式のルールに従い、バックスラッシュ (¥) でエスケープして記述する必要があります。
ダブルクォーテーション

ダブルクォーテーション (") を文字として含める場合、バックスラッシュとダブルクォーテーション (¥") と記述してください。たとえば "Hello, "World"!" という文字列を入力するためには、リクエストボディにおける記述は "Hello, ¥"World¥"!" としてください。
バックスラッシュ

バックスラッシュ (¥) を文字として含める場合、バックスラッシュ2つ (¥¥) と記述してください。たとえば "C:¥Users¥User" という文字列を入力するためには、リクエストボディにおける記述は "C:¥¥Users¥¥User" としてください。

従って、N個のバックスラッシュ (¥) を入力する場合、2N個のバックスラッシュ (¥¥...¥¥) を記述してください。

レスポンスの共通仕様
レスポンスステータス

レスポンスステータスの体系は以下の通りです。

各レスポンスステータスごとのレスポンスの内容については左メニューの各 API リファレンスをご参照ください。
ステータスコード 	説明
200 	正常
400 	パラメータエラー
401 	認証エラー
403 	権限エラー
404 	リソースが存在しないエラー
405 	メソッドが存在しないエラー
413 	ペイロード上限エラー
429 	リクエスト数上限エラー
500 	予期しない内部エラー
503 	メンテナンスによりサービス利用不可
504 	ゲートウェイタイムアウト



アクセストークン

API を利用するためのアクセストークンを取り扱います。
/v2/token

アクセストークンを取得する。
header Parameters
X-API-KEY
required
	
string
Example: abcd00000000000000000000

ジンジャーAPIの設定で生成・取得された API キーを指定します。
X-SECRET-KEY
required
	
string
Example: abcd00000000000000000000

ジンジャーAPIの設定で生成・取得された API シークレットキーを指定します。


 Response samples

200

Content type
application/json
{

    "results": "success",
    "data": {
        "access_token": "ApplicationJWT"
    }

}

400

{

    "results": "failure",
    "errors": [
        {}
    ]

}



従業員 社員番号

従業員に紐づく社員番号を取り扱います。
/v1/employees/employee-ids

従業員に紐づく社員番号を取得する。
Authorizations:
ApplicationJWT
query Parameters
page	
integer
Example: page=1

クエリパラメータが無い場合、100件返却します。
101-200件目を取得したい場合、page=2 を指定してください。
employee-id	
string
Example: employee-id=JIN

指定された値に社員番号が部分一致するデータを返却します。
値が指定されていない場合、全データを返却します。
enrollment-classification-id	
string
Example: enrollment-classification-id=0

在籍区分
下記のいずれかを指定できます。
0:在籍
1:退職
2:休職
クエリパラメータが無い場合、条件に含めずデータを返却します。
employment-classification-id	
string
Example: employment-classification-id=1

雇用区分
雇用区分は /v1/master/employment-classifications で得られる id の値（雇用区分ID）で指定します。
クエリパラメータが無い場合、条件に含めずデータを返却します。
has-since-changed-at	
string <date> yyyy-MM-dd
Example: has-since-changed-at=2023-01-01

指定された年月日以降に新規登録または更新されたデータを返却します。
年月日が指定されていなかったら全データを返却します。
